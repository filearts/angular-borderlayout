/**
 * angular-borderlayout2 - A set of Angular.js components to manage and define border layouts
 * @version v0.9.1
 * @link https://github.com/e-cloud/angular-borderlayout
 * @license MIT
 */
"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};!function(e,t){if("function"==typeof define&&define.amd)define(["angular"],t);else{if("object"!==("undefined"==typeof module?"undefined":_typeof(module))||!module.exports)return t(e.angular);module.exports=t(require("angular"))}}(window,function(e){function t(e,t,i,n,o,s){this.width=null!=e?e:0,this.height=null!=t?t:0,this.top=null!=i?i:0,this.right=null!=n?n:0,this.bottom=null!=o?o:0,this.left=null!=s?s:0}function i(e,t){this._$scope=e,this._$timeout=t,this.children=[],this.closed=!1,this.noToggle=!1,this.noResize=!1,this.max=Number.MAX_VALUE,this.min=0,this.order=0}i.$inject=["$scope","$timeout"];var n={getOrientation:function(e){switch(e){case"north":case"south":return"vertical";case"east":case"west":return"horizontal"}},getScrollViewStyle:function(e,t){var i={top:0,right:0,bottom:0,left:0};if(t)switch(e){case"north":i.bottom="auto",i.height=t+"px";break;case"east":i.left="auto",i.width=t+"px";break;case"south":i.top="auto",i.height=t+"px";break;case"west":i.right="auto",i.width=t+"px"}else switch(e){case"north":case"south":i.height=0;break;case"west":case"east":i.width=0}return i},getHandleStyle:function(e,t,i){switch(e){case"north":return{height:t.calculateSize("vertical",i)+"px",right:0,left:0,bottom:0};case"south":return{height:t.calculateSize("vertical",i)+"px",right:0,left:0,top:0};case"east":return{width:t.calculateSize("horizontal",i)+"px",top:0,bottom:0,left:0};case"west":return{width:t.calculateSize("horizontal",i)+"px",top:0,bottom:0,right:0}}},generateSerialId:function(){var e=0,t=function(){return e++};return t.peek=function(){return e},t}(),stringToBoolean:function(t){var i=t;return e.isString(t)&&(i="true"===e.lowercase(t)),!!i}};t.prototype.constructor=t,e.extend(t.prototype,{clone:function(){return new t(this.width,this.height,this.top,this.right,this.bottom,this.left)},calculateSize:function(t,i){var n=void 0,o=void 0;i||(i=0);var s=this.getSize(t);if(e.isNumber(i))return i>=1?Math.round(i):i>0?Math.round(i*s):0;var a=this.getAvailableSize(t);if(i=i.replace(/\s+/gm,""),(o=i.split("-")).length>1)return this.calculateSize(t,o.shift())-this.calculateSize(t,o.join("+"));if((o=i.split("+")).length>1)return this.calculateSize(t,o.shift())+this.calculateSize(t,o.join("+"));if(n=i.match(/^(\d+)(?:px)?$/))return parseInt(n[1],10);if(n=i.match(/^(\d+(?:\.\d+)?)&$/))return Math.round(a*parseFloat(n[1])/100);if(n=i.match(/^(\d+(?:\.\d+)?)%$/))return Math.round(s*parseFloat(n[1])/100);throw new Error("Unsupported size: "+i)},consume:function(e,t){var i=void 0;switch(t||(t=0),e){case"north":i={top:this.top+"px",right:this.right+"px",bottom:"auto",left:this.left+"px",height:t+"px",width:"auto"},this.top+=t;break;case"east":i={top:this.top+"px",right:this.right+"px",bottom:this.bottom+"px",left:"auto",width:t+"px",height:"auto"},this.right+=t;break;case"south":i={top:"auto",right:this.right+"px",bottom:this.bottom+"px",left:this.left+"px",height:t+"px",width:"auto"},this.bottom+=t;break;case"west":i={top:this.top+"px",right:"auto",bottom:this.bottom+"px",left:this.left+"px",width:t+"px",height:"auto"},this.left+=t}return 0===t&&(i.display="none"),i},getInnerRegion:function(){return new t(this.width-this.right-this.left,this.height-this.top-this.bottom)},getSize:function(e){switch(e){case"vertical":return this.height;case"horizontal":return this.width}},getAvailableSize:function(e){switch(e){case"vertical":return this.height-this.top-this.bottom;case"horizontal":return this.width-this.right-this.left}},toString:function(){return"{"+this.top+", "+this.right+", "+this.bottom+", "+this.left+"}, {"+this.width+", "+this.height+"}"}}),i.prototype.constructor=i,e.extend(i.prototype,{getOptions:function(){return{anchor:this.anchor,targetSize:this.targetSize,size:this.size,min:this.min,max:this.max,order:this.order||0,handle:{open:this.handleSizeOpen||0,closed:this.handleSizeClosed||0},noResize:!!this.noResize,noToggle:!!this.noToggle,closed:this.closed}},setOptions:function(e){null==e&&(e={}),null!=e.anchor&&this.setAnchor(e.anchor),null!=e.size&&this.setTargetSize(e.size),null!=e.min&&this.setMinSize(e.min),null!=e.max&&this.setMaxSize(e.max),null!=e.handle&&this.setHandleSize(e.handle),null!=e.order&&this.setOrder(e.order),null!=e.noToggle&&this.setNoToggle(e.noToggle),null!=e.noResize&&this.setNoResize(e.noResize),null!=e.closed&&this.toggle(!e.closed)},setAnchor:function(e){this.anchor=e,this.$scheduleReflow()},setTargetSize:function(e){this.targetSize=e,this.$scheduleReflow()},setMinSize:function(e){this.min=null!=e?e:0,this.$scheduleReflow()},setMaxSize:function(e){this.max=null!=e?e:Number.MAX_VALUE,this.$scheduleReflow()},setOrder:function(e){this.order=e||0,this.$scheduleReflow()},setNoToggle:function(e){this.noToggle=!!e,this.$scheduleReflow()},setNoResize:function(e){this.noResize=!!e},setHandleSize:function(t){if(e.isObject(t)){if(!t.open||!t.close)throw new Error("illegal handle object.");this.handleSizeOpen=parseInt(t.open,10)||0,this.handleSizeClosed=parseInt(t.close,10)||0}else this.handleSizeOpen=this.handleSizeClosed=parseInt(t,10)||0;this.$scheduleReflow()},$scheduleReflow:function(){var e=this;this.parent?this.parent.$scheduleReflow():this.$reflowScheduled||!function(){e.$reflowScheduled=!0;var t=e;e._$scope.$evalAsync(function(){t.$reflowScheduled&&t.reflow(),t.$reflowScheduled=!1})}()},$onStartResize:function(){this.$containerEl.addClass("fa-pane-resizing")},$onStopResize:function(){this.$containerEl.removeClass("fa-pane-resizing")},addChild:function(e){e.parent=this,this.children.push(e),this.children.length&&this.$containerEl.addClass("fa-pane-parent")},getOrientation:function(){return n.getOrientation(this.anchor)},onHandleDown:function(){this.$containerEl.addClass("active")},onHandleUp:function(){this.$containerEl.removeClass("active"),this.$scheduleReflow()},removeChild:function(e){var t=this.children.indexOf(e);t>-1&&this.children.splice(t,1),this.children.length||this.$containerEl.removeClass("fa-pane-parent"),this.$scheduleReflow()},reflow:function(e){var o=this.$containerEl[0].offsetWidth,s=this.$containerEl[0].offsetHeight;e||(e=new t(o,s));var a=this.anchor;if("north"===a||"east"===a||"south"===a||"west"===a){this.$containerEl.removeClass("fa-pane-orientation-vertical"),this.$containerEl.removeClass("fa-pane-orientation-horizontal");var r=n.getOrientation(this.anchor);this.$containerEl.addClass("fa-pane-orientation-"+r),this.anchor&&this.$containerEl.addClass("fa-pane-direction-"+this.anchor);var l=e.calculateSize(r,!this.closed&&this.handleSizeOpen||this.handleSizeClosed),h=l;this.closed||(h=e.calculateSize(r,!this.closed&&this.targetSize||l),this.maxSize=this.max===Number.MAX_VALUE?e.getSize(n.getOrientation(this.anchor)):e.calculateSize(r,this.max),this.minSize=e.calculateSize(r,this.min),h=Math.min(h,this.maxSize),h=Math.max(h,this.minSize),h=Math.min(h,e.getAvailableSize(r)),h=Math.max(h,l)),this.size=h;var c=e.consume(this.anchor,h),u=n.getScrollViewStyle(this.anchor,h-l),d=n.getHandleStyle(this.anchor,e,l);this.$containerEl.attr("style","").css(c),this.$overlayEl.attr("style","").css(u),this.$handleEl.attr("style","").css(d),this.$scrollViewEl.attr("style","").css(u)}else this.$containerEl.css({top:e.top+"px",right:e.right+"px",bottom:e.bottom+"px",left:e.left+"px",width:"auto",height:"auto"});this.$region=e.clone(),this.reflowChildren(this.$region.getInnerRegion()),null!==i._promise&&this._$timeout.cancel(i._promise),i._promise=this._$timeout(function(){this._$scope.$emit("fa-pane-reflow-finished",this),this._$scope.$broadcast("fa-pane-reflow-finished",this),i._promise=null}.bind(this),400),this._$scope.$broadcast("fa-pane-resize",this)},reflowChildren:function(e){if(this.children.length){e||(e=this.$region),this.children.sort(function(e,t){return e.order-t.order});for(var t=0;t<this.children.length;t++){var i=this.children[t];i.reflow(e)}}},resize:function(e){if(null==e&&(e=this.targetSize),e!==this.size){if(this.targetSize=e,e>this.maxSize){if(this.$containerEl.addClass("fa-pane-constrained"),this.maxSize===this.size)return}else if(e<this.minSize){if(this.$containerEl.addClass("fa-pane-constrained"),this.minSize===this.size)return}else this.$containerEl.removeClass("fa-pane-constrained");this.parent.reflowChildren(this.parent.$region.getInnerRegion())}},toggle:function(e){null==e&&(e=!!this.closed),this.closed=!e,this.closed?this.$containerEl.addClass("fa-pane-closed"):this.$containerEl.removeClass("fa-pane-closed"),this.$scheduleReflow()}});var o="faPane",s=e.module("fa.directive.borderLayout",[]);return s.factory("paneManager",function(){var e={};return{get:function(t){return e[t]},set:function(t,i){return e[t]=i},remove:function(t){return delete e[t]}}}),s.factory("Region",function(){return t}),s.factory("paneUtil",function(){return n}),s.directive(o,["$window","$templateCache","paneManager","paneUtil",function(e,t,n,s){return{restrict:"A",replace:!0,require:o,priority:1,transclude:"element",scope:{anchor:"@paneAnchor",paneId:"@"+o,size:"@paneSize",min:"@paneMin",max:"@paneMax",handle:"@paneHandle",closed:"=paneClosed",order:"@paneOrder",noResize:"@paneNoResize",noToggle:"@paneNoToggle"},template:t.get("template/borderLayout.tpl.html"),controllerAs:"$pane",controller:i,link:function(t,i,a,r,l){function h(e){e.stopPropagation(),r.$scheduleReflow()}var c=s.generateSerialId();null==r.order&&(r.order=c),r.id=a[o],t.$watch("anchor",function(e){void 0!==e&&r.setAnchor(e)}),t.$watch("size",function(e){r.setTargetSize(e)}),t.$watch("closed",function(e){void 0!==e&&r.toggle(!e)}),t.$watch("min",function(e){void 0!==e&&r.setMinSize(e)}),t.$watch("max",function(e){void 0!==e&&r.setMaxSize(e)}),t.$watch("order",function(e){void 0!==e&&r.setOrder(e)}),t.$watch("noResize",function(e){void 0!==e&&r.setNoResize(s.stringToBoolean(e))}),t.$watch("noToggle",function(e){void 0!==e&&r.setNoToggle(s.stringToBoolean(e))}),t.$watch("paneId",function(e,t){t&&(n.remove(t),r.$containerEl.removeClass("pane-"+t)),n.set(e,r),r.id=e,r.$containerEl.addClass("pane-"+r.id)}),t.$watch("handle",function(e){void 0!==e&&r.setHandleSize(t.$eval(e))}),e.addEventListener("resize",h),l(function(n,o){n.addClass("fa-pane-scroll-view"),i.append(n),r.$containerEl=i,r.$overlayEl=i.children().eq(0),r.$handleEl=i.children().eq(1),r.$scrollViewEl=i.children().eq(2),o.$pane=r,o.$on("fa-pane-attach",function(e,t){t!==r&&(e.stopPropagation(),r.addChild(t))}),o.$on("fa-pane-detach",function(e,t){t!==r&&(e.stopPropagation(),r.removeChild(t))}),o.$on("$destroy",function(){o.$emit("fa-pane-detach",r),e.removeEventListener("resize",h)}),t.$emit("fa-pane-attach",r)})}}}]),s.directive("faPaneToggle",function(){return{restrict:"A",require:"^^"+o,link:function(e,t){t.on("click",function(t){t.preventDefault(),e.$pane.toggle()})}}}),s.directive("faPaneResizer",["$window",function(e){function t(e,t,i){var n=Date.now||function(){return(new Date).getTime()},o=void 0,s=void 0,a=void 0,r=null,l=0;i=i||{};var h=function(){l=i.leading===!1?0:n(),r=null,a=e.apply(o,s),o=s=null};return function(){var c=n();l||i.leading!==!1||(l=c);var u=t-(c-l);return o=this,s=arguments,u<=0?(clearTimeout(r),r=null,l=c,a=e.apply(o,s),o=s=null):r||i.trailing===!1||(r=setTimeout(h,u)),a}}return{restrict:"A",require:"^^"+o,link:function(i,n){var o=i.$pane,s=5,a=300;i.$watch(function(){return o.getOrientation()},function(e){switch(e){case"vertical":n.removeClass("vertical"),n.addClass("horizontal");break;case"horizontal":n.addClass("vertical"),n.removeClass("horizontal")}}),i.$watch(function(){return o.noResize},function(e,t){e!==t&&(e?n.addClass("fa-pane-no-resize"):n.removeClass("fa-pane-no-resize"))}),n.on("mousedown",function(n){function r(e){o.$onStartResize(),i.$apply(function(){var t=g+d*(e[u]-p);o.resize(t)}),e.preventDefault()}function l(t){var i=Math.pow(t.screenX-f.x,2)+Math.pow(t.screenY-f.y,2),n=Date.now()-m;e.removeEventListener("mousemove",v,!0),e.removeEventListener("mouseup",l,!0),i<=Math.pow(s,2)&&n<=a||r(t),o.$onStopResize(),t.preventDefault()}if(0===n.button&&n.currentTarget===n.target&&!o.noResize){var h=n.target,c=o.anchor,u=void 0;"north"===c||"south"===c?u="clientY":"west"!==c&&"east"!==c||(u="clientX");var d=void 0;"north"===c||"west"===c?d=1:"south"!==c&&"east"!==c||(d=-1);var f={x:n.screenX,y:n.screenY},p=n[u],g=o.size,m=Date.now();h.unselectable="on",h.onselectstart=function(){return!1},h.style.userSelect=h.style.MozUserSelect=h.style.msUserSelect=h.style.webkitUserSelect="none",n.preventDefault(),n=null;var v=t(r,33,{trailing:!1});e.addEventListener("mouseup",l,!0),e.addEventListener("mousemove",v,!0)}})}}}]),e.module("fa.directive.borderLayout").run(["$templateCache",function(e){e.put("template/borderLayout.tpl.html",'<div class="fa-pane"> <div class="fa-pane-overlay"></div> <div class="fa-pane-handle" fa-pane-resizer> <div ng-if="!$pane.noToggle" class="fa-pane-toggle" fa-pane-toggle></div> </div> </div>')}]),s});